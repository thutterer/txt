(this.webpackJsonptxt=this.webpackJsonptxt||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),c=a.n(r),l=(a(13),a(14),a(1)),i=a(3),s=a(5);a(15),a(16),a(17);function d(e){var t=Object(n.useRef)(),a=Object(n.useState)(0===e.title.length),r=Object(l.a)(a,2),c=r[0],i=r[1];return o.a.createElement("div",{className:"task",id:"task-".concat(e.id)},o.a.createElement("input",{type:"checkbox",id:"checkbox-".concat(e.id),checked:e.checked,onChange:e.toggleTask}),o.a.createElement("label",{htmlFor:"checkbox-".concat(e.id),style:{display:c?"none":"inline-block"}},e.title),o.a.createElement("input",{type:"text",ref:t,value:e.title,onChange:function(t){return e.changeTask(t.target.value)},onKeyUp:function(e){13===e.keyCode&&e.target.value&&i(!1)},placeholder:"new task",style:{display:c?"inline-block":"none"}}),c&&o.a.createElement("input",{type:"date",value:e.date,onChange:function(t){return e.changeDate(t.target.value)}}),c||o.a.createElement("span",null,e.date),!e.checked&&o.a.createElement("button",{className:"icon",title:"Toggle edit mode",onClick:function(){i(!c),c||window.setTimeout((function(){return t.current.focus()}),100)}},c||o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),c&&o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}))),e.checked&&o.a.createElement("button",{className:"icon",title:"Delete task",onClick:e.deleteTask},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}))))}function u(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useState)(!0),c=Object(l.a)(r,2),i=c[0],s=c[1];function u(t){t.preventDefault();var a=JSON.parse(t.dataTransfer.getData("task"));t.target.style.backgroundColor="transparent",e.dispatch({type:"moveTask",payload:{id:e.id,task:a,before:t.target.dataset.index}})}function h(e){e.preventDefault(),e.target.style.backgroundColor="var(--primary-color)"}function p(e){e.target.style.backgroundColor="transparent"}return o.a.createElement("div",{className:"note",style:{borderBottom:"4px solid ".concat(e.color||"transparent")}},o.a.createElement("input",{ref:a,type:"color",onChange:function(t){return e.dispatch({type:"colorize",payload:{id:e.id,color:t.target.value}})},style:{display:"none"}}),o.a.createElement("textarea",{ref:t,value:e.value,onChange:function(t){return e.dispatch({type:"changeNote",payload:{id:e.id,value:t.target.value}})}}),o.a.createElement("ul",null,e.tasks&&e.tasks.map((function(t,a){return(!t.checked||i)&&o.a.createElement("li",{key:t.id,draggable:!0,onDragStart:function(e){return function(e,t){e.dataTransfer.setData("task",t),e.dataTransfer.effectAllowed="move"}(e,JSON.stringify(t))}},o.a.createElement("div",{className:"dropzone","data-index":a,onDrop:u,onDragOver:h,onDragLeave:p}),o.a.createElement(d,{id:t.id,checked:t.checked,title:t.title,date:t.date,toggleTask:function(){return e.dispatch({type:"toggleTask",payload:{id:e.id,taskId:t.id}})},changeTask:function(a){return e.dispatch({type:"changeTask",payload:{id:e.id,taskId:t.id,value:a}})},deleteTask:function(){return e.dispatch({type:"deleteTask",payload:{id:e.id,taskId:t.id}})},changeDate:function(a){return e.dispatch({type:"changeDate",payload:{id:e.id,taskId:t.id,value:a}})}}))})),o.a.createElement("li",null,o.a.createElement("div",{className:"dropzone","data-index":e.tasks.length+1,onDrop:u,onDragOver:h,onDragLeave:p}))),o.a.createElement("footer",null,i?o.a.createElement("button",{className:"icon",title:"Hide done tasks",onClick:function(){return s(!1)}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"24px",height:"24px"},o.a.createElement("path",{d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}))):o.a.createElement("button",{className:"icon",title:"Show done tasks",onClick:function(){return s(!0)}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"24px",height:"24px"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))),o.a.createElement("button",{className:"icon",title:"Add a task",onClick:function(){return e.dispatch({type:"addTaskToNote",payload:{id:e.id}}),void window.setTimeout((function(){var t=e.tasks[e.tasks.length-1].id;document.querySelector("#task-".concat(t," input[type=text]")).focus()}),50)}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}))),o.a.createElement("button",{className:"icon",title:"Colorize",onClick:function(){return a.current.click()}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"}))),o.a.createElement("button",{className:"icon",title:"Fullscreen",onClick:function(e){return e.element,void(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():t.current.parentElement.requestFullscreen())}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))),0!==e.value.length||e.tasks&&0!==e.tasks.length?navigator.share&&o.a.createElement("button",{title:"Share (text only)",className:"icon",onClick:function(){navigator.share&&navigator.share({text:e.value}).then((function(){return console.log("Successful share")})).catch((function(e){return console.log("Error sharing",e)}))}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}))):o.a.createElement("button",{title:"Delete permanently",className:"icon",onClick:function(){return e.dispatch({type:"deleteNote",payload:{id:e.id}})}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})))))}function h(){return JSON.parse(localStorage.getItem("react-notes"))||{notes:[]}}function p(e,t){switch(t.type){case"addNote":return{notes:[].concat(Object(s.a)(e.notes),[{id:Date.now(),value:"",color:"transparent",tasks:[]}])};case"changeNote":return{notes:e.notes.map((function(e){return e.id===t.payload.id&&(e.value=t.payload.value),e}))};case"deleteNote":return{notes:e.notes.filter((function(e){return e.id!==t.payload.id}))};case"addTaskToNote":return{notes:e.notes.map((function(e){if(e.id===t.payload.id){var a={id:Date.now(),checked:!1,title:"",date:void 0};return Object(i.a)(Object(i.a)({},e),{},{tasks:[].concat(Object(s.a)(e.tasks),[a])})}return e}))};case"toggleTask":return{notes:e.notes.map((function(e){if(e.id===t.payload.id){var a=JSON.parse(JSON.stringify(e));return a.tasks=a.tasks.map((function(e){return e.id===t.payload.taskId&&(e.checked=!e.checked),e})),a}return e}))};case"changeTask":return{notes:e.notes.map((function(e){if(e.id===t.payload.id){var a=JSON.parse(JSON.stringify(e));return a.tasks=a.tasks.map((function(e){return e.id===t.payload.taskId&&(e.title=t.payload.value),e})),a}return e}))};case"deleteTask":return{notes:e.notes.map((function(e){if(e.id===t.payload.id){var a=JSON.parse(JSON.stringify(e));return a.tasks=a.tasks.filter((function(e){return e.id!==t.payload.taskId})),a}return e}))};case"moveTask":return{notes:e.notes.map((function(e){if(e.id===t.payload.id){var a=e.tasks.filter((function(e){return e.id!==t.payload.task.id}));return a.splice(t.payload.before,0,t.payload.task),Object(i.a)(Object(i.a)({},e),{},{tasks:a})}return e}))};case"changeDate":return{notes:e.notes.map((function(e){if(e.id===t.payload.id){var a=JSON.parse(JSON.stringify(e));return a.tasks=a.tasks.map((function(e){return e.id===t.payload.taskId&&(e.date=t.payload.value),e})),a}return e}))};case"colorize":return{notes:e.notes.map((function(e){return e.id===t.payload.id&&(e.color=t.payload.color),e}))};default:return console.log("Unknown action type",t.type),e}}function v(){var e=Object(n.useReducer)(p,{notes:[]},h),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){localStorage.setItem("react-notes",JSON.stringify(a))})),o.a.createElement(o.a.Fragment,null,a.notes.map((function(e){return o.a.createElement(u,Object.assign({key:e.id},e,{dispatch:r}))})),o.a.createElement("button",{autoFocus:!0,className:"addBtn",onClick:function(){return r({type:"addNote"}),void window.setTimeout((function(){document.querySelector(".note:last-of-type textarea").focus()}),50)}},"+"))}function m(){return o.a.createElement("div",{className:"App"},o.a.createElement("main",null,o.a.createElement(v,null)))}var f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/txt",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/txt","/service-worker.js");f?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):g(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):g(t,e)}))}}()}],[[8,1,2]]]);
//# sourceMappingURL=main.17609bf0.chunk.js.map